<template>
    <div style="margin-left: 7px">
    <legend class="col-form-legend" innerhtml.bind="exercise.name">${exercise.name}</legend>

    <ul class="nav nav-pills">
        <li><a data-toggle="pill" href="#description">Description</a></li>
        <li class="active"><a data-toggle="pill" href="#log-this">Log this</a></li>
        <li><a data-toggle="pill" href="#history">History</a></li>
    </ul>

    <div class="tab-content">
        <div id="description" class="tab-pane fade">
            <div style="margin-top: 5px; margin-bottom: 5px">${exercise.description}</div>
            <legend class="col-form-legend">Muscle groups</legend>
            <div class="list-group">
                <div class="list-group-item" repeat.for="muscle of exercise.muscles">${muscle.muscleName}</div>
            </div>
        </div>
        <div id="log-this" class="tab-pane fade in active">
            <p>
            <div style="width: 300px;">
                <form role="form" submit.delegate="addMeasureLog()">
                    <input type="hidden" name="exercise.id" value.bind="exercise.id" value="${exercise.id}" />
                    <div repeat.for="unitType of exercise.unitTypes" class="input-group">
                        <input type="hidden" value.bind="unitType.id" value="${unitType.id}"/>
                        <span class="input-group-addon">${unitType.name} (${unitType.unit})</span>
                        <input class="form-control input-lg" type="text" value.bind="valueInputs[$index]"/>
                    </div>
                    <button class="btn btn-success" type="submit">Add set</button>
                </form>
            </div>
            </p>
            <h4>Sets today:</h4>
            <ul>
                <li repeat.for="set of setsToday">
                    <span repeat.for="measure of set.measureLogs">
                        <span innerhtml.bind="measure.val"></span>
                        <span innerhtml.bind="measure.unitType.unit"></span>
                        <span> </span>
                    </span>
                </li>
            </ul>
        </div>
        <div id="history" class="tab-pane fade">
            <ul>
                <li repeat.for="setsByDate of setsByDateList">
                    <h3>${setsByDate.date.dayOfWeek} ${setsByDate.date.dayOfMonth}.${setsByDate.date.monthValue}.${setsByDate.date.year}</h3>
                    <span repeat.for="set of setsByDate.sets">
                        <span repeat.for="measure of set.measureLogs">
                            <span innerhtml.bind="measure.val"></span>
                            <span innerhtml.bind="measure.unitType.unit"></span>
                        </span>
                        <br>
                    </span>
                    </span>
                </li>
            </ul>
        </div>
    </div>
    </div>
</template>